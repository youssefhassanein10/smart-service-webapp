<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ–π –º–∞–≥–∞–∑–∏–Ω –≤ Telegram</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
        }
        .product {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .product img {
            width: 100%;
            border-radius: 5px;
        }
        .price {
            color: #0088cc;
            font-size: 20px;
            font-weight: bold;
            margin: 10px 0;
        }
        .buy-btn {
            background: #0088cc;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõçÔ∏è –ú–æ–π –º–∞–≥–∞–∑–∏–Ω</h1>
        <div id="products">
            <!-- –¢–æ–≤–∞—Ä—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        let tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞—Å–∫—Ä—ã–≤–∞–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
        
        // –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–æ–≤ (–ø–æ–∑–∂–µ –±—É–¥–µ–º –ø–æ–ª—É—á–∞—Ç—å –∏–∑ –±–∞–∑—ã)
        const products = [
            {
                id: 1,
                name: "–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
                price: 1000,
                image: "https://via.placeholder.com/300x200.png?text=–í–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞",
                description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞ –ø–æ–¥ –∫–ª—é—á"
            },
            {
                id: 2, 
                name: "–î–∏–∑–∞–π–Ω",
                price: 2000,
                image: "https://via.placeholder.com/300x200.png?text=–î–∏–∑–∞–π–Ω",
                description: "UI/UX –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞"
            }
        ];

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–≤–∞—Ä—ã
        function showProducts() {
            const container = document.getElementById('products');
            
            products.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.className = 'product';
                productDiv.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>${product.description}</p>
                    <div class="price">${product.price} —Ä—É–±.</div>
                    <button class="buy-btn" onclick="selectProduct(${product.id})">
                        –í—ã–±—Ä–∞—Ç—å —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä
                    </button>
                `;
                container.appendChild(productDiv);
            });
        }

        // –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞
        function selectProduct(productId) {
            const product = products.find(p => p.id === productId);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
            tg.showPopup({
                title: "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞",
                message: –í—ã–±—Ä–∞—Ç—å "${product.name}" –∑–∞ ${product.price} —Ä—É–±.?,
                buttons: [
                    {id: "yes", type: "default", text: "–î–∞, –≤—ã–±—Ä–∞—Ç—å"},
                    {id: "no", type: "cancel", text: "–û—Ç–º–µ–Ω–∞"}
                ]
            }, function(buttonId) {
                if (buttonId === "yes") {
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç
                    tg.sendData(JSON.stringify({
                        action: "product_selected",
                        product_id: productId,
                        product_name: product.name,
                        price: product.price
                    }));
                    tg.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º Mini App
                }
            });
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        showProducts();
    </script>
</body>
  </html>
